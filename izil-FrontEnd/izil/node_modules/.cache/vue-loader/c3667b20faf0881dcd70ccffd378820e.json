{"remainingRequest":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue?vue&type=template&id=abfb344e&scoped=true","dependencies":[{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue","mtime":1629653011372},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9IkJvb2tpbmciIEBjbGljay5zZWxmPSJoaWRlTW9kYWwiPg0KICAgIDxkaXYgY2xhc3M9Im1vZGFsIj4NCiAgICAgIDxwIGNsYXNzPSJtb2RhbEhlYWRlciI+Q0hFQ0sgQVZBSUxBQklMSVRZPC9wPg0KICAgICAgPGRpdiBjbGFzcz0iZm9ybUNvbnRhaW5lciI+DQogICAgICAgIDxkaXYgY2xhc3M9ImZvcm1Db250cm9sbCI+DQogICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtTGFiZWwiIGZvcj0iZnJvbSI+RlJPTTwvbGFiZWw+DQogICAgICAgICAgPGlucHV0IHYtbW9kZWw9ImRhdGVEYXRhLmZyb20iIHR5cGU9ImRhdGUiIHBsYWNlaG9sZGVyPSJ5eXl5LW1tLWRkIiAvPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybUNvbnRyb2xsIj4NCiAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm1MYWJlbCIgZm9yPSJmcm9tIj5UTzwvbGFiZWw+DQogICAgICAgICAgPGlucHV0IHYtbW9kZWw9ImRhdGVEYXRhLnRvIiB0eXBlPSJkYXRlIiAvPg0KICAgICAgICA8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGJ1dHRvbiBAY2xpY2s9ImNoZWNrIiBjbGFzcz0ibW9kYWxCdXR0b24iIDpkaXNhYmxlZD0iaXNMb2FkaW5nIj4NCiAgICAgICAgQ2hlY2sNCiAgICAgIDwvYnV0dG9uPg0KICAgICAgPGRpdiBjbGFzcz0icmVzUG9uc2VBcmVhIj4NCiAgICAgICAgPExvYWRpbmcgdi1pZj0iaXNMb2FkaW5nIiAvPg0KICAgICAgICA8cCBjbGFzcz0icmVzcG9uc2VUZXh0IiB2LWlmPSIhaXNMb2FkaW5nICYmIGlzUmVzcG9uc2VTaG93biI+DQogICAgICAgICAgUmlhZCBpcyB7eyBzdGF0dXMgPyAiTm90IEF2YWlsYWJsZSIgOiAiQXZhaWxhYmxlIiB9fQ0KICAgICAgICA8L3A+DQogICAgICA8L2Rpdj4NCiAgICAgIDxidXR0b24gdi1pZj0iaXNCb29raW5nQnV0dG9uU2hvd24iIEBjbGljaz0iYm9vayIgY2xhc3M9Im1vZGFsQnV0dG9uIj4NCiAgICAgICAgQm9vayBOb3cNCiAgICAgIDwvYnV0dG9uPg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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","file":"C:/Users/adm/Desktop/Documents/Fil Rouge/Project/IZILFINAL/izil/src/components/Booking.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"Booking\" @click.self=\"hideModal\">\r\n    <div class=\"modal\">\r\n      <p class=\"modalHeader\">CHECK AVAILABILITY</p>\r\n      <div class=\"formContainer\">\r\n        <div class=\"formControll\">\r\n          <label class=\"formLabel\" for=\"from\">FROM</label>\r\n          <input v-model=\"dateData.from\" type=\"date\" placeholder=\"yyyy-mm-dd\" />\r\n        </div>\r\n        <div class=\"formControll\">\r\n          <label class=\"formLabel\" for=\"from\">TO</label>\r\n          <input v-model=\"dateData.to\" type=\"date\" />\r\n        </div>\r\n      </div>\r\n      <button @click=\"check\" class=\"modalButton\" :disabled=\"isLoading\">\r\n        Check\r\n      </button>\r\n      <div class=\"resPonseArea\">\r\n        <Loading v-if=\"isLoading\" />\r\n        <p class=\"responseText\" v-if=\"!isLoading && isResponseShown\">\r\n          Riad is {{ status ? \"Not Available\" : \"Available\" }}\r\n        </p>\r\n      </div>\r\n      <button v-if=\"isBookingButtonShown\" @click=\"book\" class=\"modalButton\">\r\n        Book Now\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from \"../components/Loading.vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Booking\",\r\n  components: {\r\n    Loading,\r\n  },\r\n  data() {\r\n    return {\r\n      dateData: {\r\n        from: null,\r\n        to: null,\r\n      },\r\n      isLoading: false,\r\n      isResponseShown: false,\r\n      isBookingButtonShown: false,\r\n      status: null,\r\n      booking_id: null,\r\n      booked_riad: null,\r\n    };\r\n  },\r\n  methods: {\r\n    check() {\r\n      this.isLoading = true;\r\n      this.isResponseShown = true;\r\n      axios\r\n        .post(\r\n          `http://localhost:8000/api/riads/${this.$route.params.id}/availability`,\r\n          this.dateData\r\n        )\r\n        .then((response) => {\r\n          this.status = response.data;\r\n          this.isLoading = false;\r\n          if (response.data == 0) {\r\n            this.isBookingButtonShown = true;\r\n          }\r\n        });\r\n    },\r\n\r\n    book() {\r\n      let bookingData = {\r\n        from: this.dateData.from,\r\n        to: this.dateData.to,\r\n        riad_id: this.$route.params.id,\r\n        user_id: localStorage.getItem(\"userId\"),\r\n      };\r\n      axios\r\n        .post(\"http://localhost:8000/api/bookings\", bookingData)\r\n        .then((response) => {\r\n          this.booking_id = response.data.id;\r\n          this.booked_riad = response.data.riad_id;\r\n          localStorage.setItem(\"booking_id\", this.booking_id);\r\n          localStorage.setItem(\"booked_riad\", this.booked_riad);\r\n          console.log(localStorage.getItem(\"booking_id\"));\r\n          console.log(localStorage.getItem(\"booked_riad\"));\r\n          this.$router.push(\"/Explore\");\r\n\r\n          this.hideModal();\r\n        });\r\n    },\r\n\r\n    hideModal() {\r\n      this.$emit(\"hide\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.Booking {\r\n  top: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #996415ed;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n.modal {\r\n  width: 500px;\r\n  padding: 40px;\r\n  margin: auto;\r\n  background: rgb(32, 32, 32);\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n\r\n.formContainer {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin: 30px 0;\r\n}\r\n\r\n.formControll {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.modalHeader {\r\n  font-family: luxia;\r\n  font-size: 18px;\r\n  color: #996515;\r\n}\r\n\r\n.formLabel {\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n  color: #996515;\r\n}\r\n\r\ninput {\r\n  padding: 10px 0;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid #996515;\r\n  outline: none;\r\n  width: 100%;\r\n  font-family: luxia;\r\n  font-size: 15px;\r\n  color: #996515;\r\n}\r\n\r\n.modalButton {\r\n  font-family: luxia;\r\n  margin-top: 20px;\r\n  color: #996515;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  background: rgb(29, 29, 29);\r\n  border: 0;\r\n  border-radius: 5px;\r\n  font-size: 22px;\r\n  padding: 10px 30px;\r\n  text-decoration: none;\r\n}\r\n\r\n.modalButton:focus {\r\n  outline: 0;\r\n}\r\n\r\n.modalButton:active {\r\n  transform: scale(0.99);\r\n}\r\n\r\n.resPonseArea {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.responseText {\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n  color: gray;\r\n  margin-top: 30px;\r\n}\r\n</style>"]}]}