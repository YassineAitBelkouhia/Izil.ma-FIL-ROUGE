{"remainingRequest":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue?vue&type=template&id=abfb344e&scoped=true","dependencies":[{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue","mtime":1629653011372},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtYWJmYjM0NGUiKTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibW9kYWwiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgewogIGNsYXNzOiAibW9kYWxIZWFkZXIiCn0sICJDSEVDSyBBVkFJTEFCSUxJVFkiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImZvcm1Db250YWluZXIiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiZm9ybUNvbnRyb2xsIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7CiAgY2xhc3M6ICJmb3JtTGFiZWwiLAogIGZvcjogImZyb20iCn0sICJGUk9NIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJmb3JtQ29udHJvbGwiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsKICBjbGFzczogImZvcm1MYWJlbCIsCiAgZm9yOiAiZnJvbSIKfSwgIlRPIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSBbImRpc2FibGVkIl07CnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAicmVzUG9uc2VBcmVhIgp9Owp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAicmVzcG9uc2VUZXh0Igp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfTG9hZGluZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJMb2FkaW5nIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGNsYXNzOiAiQm9va2luZyIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IF93aXRoTW9kaWZpZXJzKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmhpZGVNb2RhbCAmJiAkb3B0aW9ucy5oaWRlTW9kYWwuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9LCBbInNlbGYiXSkpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19ob2lzdGVkXzUsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5kYXRlRGF0YS5mcm9tID0gJGV2ZW50OwogICAgfSksCiAgICB0eXBlOiAiZGF0ZSIsCiAgICBwbGFjZWhvbGRlcjogInl5eXktbW0tZGQiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmRhdGVEYXRhLmZyb21dXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19ob2lzdGVkXzcsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5kYXRlRGF0YS50byA9ICRldmVudDsKICAgIH0pLAogICAgdHlwZTogImRhdGUiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmRhdGVEYXRhLnRvXV0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5jaGVjayAmJiAkb3B0aW9ucy5jaGVjay5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJtb2RhbEJ1dHRvbiIsCiAgICBkaXNhYmxlZDogJGRhdGEuaXNMb2FkaW5nCiAgfSwgIiBDaGVjayAiLCA4CiAgLyogUFJPUFMgKi8KICAsIF9ob2lzdGVkXzgpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbJGRhdGEuaXNMb2FkaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfTG9hZGluZywgewogICAga2V5OiAwCiAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAhJGRhdGEuaXNMb2FkaW5nICYmICRkYXRhLmlzUmVzcG9uc2VTaG93biA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInAiLCBfaG9pc3RlZF8xMCwgIiBSaWFkIGlzICIgKyBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnN0YXR1cyA/ICJOb3QgQXZhaWxhYmxlIiA6ICJBdmFpbGFibGUiKSwgMQogIC8qIFRFWFQgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pLCAkZGF0YS5pc0Jvb2tpbmdCdXR0b25TaG93biA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMCwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuYm9vayAmJiAkb3B0aW9ucy5ib29rLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSksCiAgICBjbGFzczogIm1vZGFsQnV0dG9uIgogIH0sICIgQm9vayBOb3cgIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKTsKfQ=="},{"version":3,"sources":["C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\components\\Booking.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"Booking\" @click.self=\"hideModal\">\r\n    <div class=\"modal\">\r\n      <p class=\"modalHeader\">CHECK AVAILABILITY</p>\r\n      <div class=\"formContainer\">\r\n        <div class=\"formControll\">\r\n          <label class=\"formLabel\" for=\"from\">FROM</label>\r\n          <input v-model=\"dateData.from\" type=\"date\" placeholder=\"yyyy-mm-dd\" />\r\n        </div>\r\n        <div class=\"formControll\">\r\n          <label class=\"formLabel\" for=\"from\">TO</label>\r\n          <input v-model=\"dateData.to\" type=\"date\" />\r\n        </div>\r\n      </div>\r\n      <button @click=\"check\" class=\"modalButton\" :disabled=\"isLoading\">\r\n        Check\r\n      </button>\r\n      <div class=\"resPonseArea\">\r\n        <Loading v-if=\"isLoading\" />\r\n        <p class=\"responseText\" v-if=\"!isLoading && isResponseShown\">\r\n          Riad is {{ status ? \"Not Available\" : \"Available\" }}\r\n        </p>\r\n      </div>\r\n      <button v-if=\"isBookingButtonShown\" @click=\"book\" class=\"modalButton\">\r\n        Book Now\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from \"../components/Loading.vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Booking\",\r\n  components: {\r\n    Loading,\r\n  },\r\n  data() {\r\n    return {\r\n      dateData: {\r\n        from: null,\r\n        to: null,\r\n      },\r\n      isLoading: false,\r\n      isResponseShown: false,\r\n      isBookingButtonShown: false,\r\n      status: null,\r\n      booking_id: null,\r\n      booked_riad: null,\r\n    };\r\n  },\r\n  methods: {\r\n    check() {\r\n      this.isLoading = true;\r\n      this.isResponseShown = true;\r\n      axios\r\n        .post(\r\n          `http://localhost:8000/api/riads/${this.$route.params.id}/availability`,\r\n          this.dateData\r\n        )\r\n        .then((response) => {\r\n          this.status = response.data;\r\n          this.isLoading = false;\r\n          if (response.data == 0) {\r\n            this.isBookingButtonShown = true;\r\n          }\r\n        });\r\n    },\r\n\r\n    book() {\r\n      let bookingData = {\r\n        from: this.dateData.from,\r\n        to: this.dateData.to,\r\n        riad_id: this.$route.params.id,\r\n        user_id: localStorage.getItem(\"userId\"),\r\n      };\r\n      axios\r\n        .post(\"http://localhost:8000/api/bookings\", bookingData)\r\n        .then((response) => {\r\n          this.booking_id = response.data.id;\r\n          this.booked_riad = response.data.riad_id;\r\n          localStorage.setItem(\"booking_id\", this.booking_id);\r\n          localStorage.setItem(\"booked_riad\", this.booked_riad);\r\n          console.log(localStorage.getItem(\"booking_id\"));\r\n          console.log(localStorage.getItem(\"booked_riad\"));\r\n          this.$router.push(\"/Explore\");\r\n\r\n          this.hideModal();\r\n        });\r\n    },\r\n\r\n    hideModal() {\r\n      this.$emit(\"hide\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n.Booking {\r\n  top: 0;\r\n  left: 0;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #996415ed;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n.modal {\r\n  width: 500px;\r\n  padding: 40px;\r\n  margin: auto;\r\n  background: rgb(32, 32, 32);\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n}\r\n\r\n.formContainer {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin: 30px 0;\r\n}\r\n\r\n.formControll {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.modalHeader {\r\n  font-family: luxia;\r\n  font-size: 18px;\r\n  color: #996515;\r\n}\r\n\r\n.formLabel {\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n  color: #996515;\r\n}\r\n\r\ninput {\r\n  padding: 10px 0;\r\n  background: transparent;\r\n  border: none;\r\n  border-bottom: 2px solid #996515;\r\n  outline: none;\r\n  width: 100%;\r\n  font-family: luxia;\r\n  font-size: 15px;\r\n  color: #996515;\r\n}\r\n\r\n.modalButton {\r\n  font-family: luxia;\r\n  margin-top: 20px;\r\n  color: #996515;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  background: rgb(29, 29, 29);\r\n  border: 0;\r\n  border-radius: 5px;\r\n  font-size: 22px;\r\n  padding: 10px 30px;\r\n  text-decoration: none;\r\n}\r\n\r\n.modalButton:focus {\r\n  outline: 0;\r\n}\r\n\r\n.modalButton:active {\r\n  transform: scale(0.99);\r\n}\r\n\r\n.resPonseArea {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.responseText {\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n  color: gray;\r\n  margin-top: 30px;\r\n}\r\n</style>"],"sourceRoot":""}]}