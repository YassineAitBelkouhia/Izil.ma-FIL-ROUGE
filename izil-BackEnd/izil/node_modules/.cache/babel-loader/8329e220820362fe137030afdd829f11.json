{"remainingRequest":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\views\\Bookings.vue?vue&type=template&id=b3cf2f18&scoped=true","dependencies":[{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\views\\Bookings.vue","mtime":1629668760949},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi1iM2NmMmYxOCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJib29raW5ncyIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJib29raW5nc0NvbnRhaW5lciIKfTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgewogIGNsYXNzOiAiYm9va2luZ3NIZWFkZXIiCn0sICJZb3VyIEJvb2tpbmdzIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJib29raW5nRGV0YWlsIgp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIHsKICBjbGFzczogImJvb2tpbmdUZXhlIgp9LCAiRnJvbToiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImJvb2tpbmdWYWx1ZSIKfTsKdmFyIF9ob2lzdGVkXzcgPSB7CiAgY2xhc3M6ICJib29raW5nRGV0YWlsIgp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIHsKICBjbGFzczogImJvb2tpbmdUZXhlIgp9LCAiVG86IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJib29raW5nVmFsdWUiCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogInRvdGFsUHJpY2UiCn07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogInByaWNlIgp9OwoKdmFyIF9ob2lzdGVkXzEyID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoInN1YiIsIG51bGwsICJUb3RhbCIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJociIsIHsKICBjbGFzczogInJvdGF0ZWRMaW5lIgp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMTQgPSBbIm9uQ2xpY2siXTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2hvaXN0ZWRfMywgdGhpcy5ib29raW5ncy5sZW5ndGggPT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInAiLCB7CiAgICBrZXk6IDAsCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmdvdG9SaWFkc1BhZ2UgJiYgJG9wdGlvbnMuZ290b1JpYWRzUGFnZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJub0Jvb2tpbmdzWWV0IgogIH0sICIgWW91IGhhdmUgbm8gYm9va2luZ3MgeWV0LCBNYWtlIG9uZSA/IEV4cGxvcmUgIikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KHRoaXMuYm9va2luZ3MsIGZ1bmN0aW9uIChib29raW5nKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogYm9va2luZy5pZCwKICAgICAgY2xhc3M6ICJib29raW5nIgogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfaG9pc3RlZF81LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfNiwgX3RvRGlzcGxheVN0cmluZyhib29raW5nLmZyb20pLCAxCiAgICAvKiBURVhUICovCiAgICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfaG9pc3RlZF84LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgX2hvaXN0ZWRfOSwgX3RvRGlzcGxheVN0cmluZyhib29raW5nLnRvKSwgMQogICAgLyogVEVYVCAqLwogICAgKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhib29raW5nLnRvdGFsUHJpY2UpICsgIiBESCAiLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfaG9pc3RlZF8xMl0pXSksIF9ob2lzdGVkXzEzLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZUJvb2tpbmcoYm9va2luZy5pZCk7CiAgICAgIH0sCiAgICAgIGNsYXNzOiAiY2FuY2VsIgogICAgfSwgIiBDYW5jZWwgIiwgOAogICAgLyogUFJPUFMgKi8KICAgICwgX2hvaXN0ZWRfMTQpXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0pOwp9"},{"version":3,"sources":["C:\\Users\\adm\\Desktop\\Documents\\Fil Rouge\\Project\\IZILFINAL\\izil\\src\\views\\Bookings.vue"],"names":[],"mappings":";;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,mBAAA,CAA6C,IAA7C,EAA6C;AAAzC,EAAA,KAAK,EAAC;AAAmC,CAA7C,EAA2B,eAA3B,EAAwC,CAAA;AAAA;AAAxC,C;;;AASO,EAAA,KAAK,EAAC;;;8BACT,mBAAA,CAAgC,GAAhC,EAAgC;AAA7B,EAAA,KAAK,EAAC;AAAuB,CAAhC,EAAuB,OAAvB,EAA4B,CAAA;AAAA;AAA5B,C;;;AACG,EAAA,KAAK,EAAC;;;AAEN,EAAA,KAAK,EAAC;;;8BACT,mBAAA,CAA8B,GAA9B,EAA8B;AAA3B,EAAA,KAAK,EAAC;AAAqB,CAA9B,EAAuB,KAAvB,EAA0B,CAAA;AAAA;AAA1B,C;;;AACG,EAAA,KAAK,EAAC;;;AAGN,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;+BAAoC,mBAAA,CAAgB,KAAhB,EAAgB,IAAhB,EAAK,OAAL,EAAU,CAAA;AAAA;AAAV,C;;+BAE/C,mBAAA,CAA0B,IAA1B,EAA0B;AAAtB,EAAA,KAAK,EAAC;AAAgB,CAA1B,EAAuB,IAAvB,EAAuB,CAAA;AAAA;AAAvB,C;;;;;;;uBAvBN,mBAAA,CA6BM,KA7BN,EAAA,UAAA,EA6BM,CA5BJ,mBAAA,CA2BM,KA3BN,EAAA,UAAA,EA2BM,CA1BJ,UA0BI,E,KAxBS,Q,CAAS,M,IAAM,C,kBAD5B,mBAAA,CAMI,GANJ,EAMI;UAAA;AAJD,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,aAAA,IAAA,QAAA,CAAA,aAAA,OAAA,QAAA,YAAF;AAAA,KAAA,CAIJ;AAHF,IAAA,KAAK,EAAC;AAGJ,GANJ,EAIC,gDAJD,C,qCAyBI,G,kBAlBJ,mBAAA,CAiBM,SAjBN,EAiBM,IAjBN,EAiBM,WAAA,CAAA,KAjBsB,QAiBtB,EAjB8B,UAAxB,OAAwB,EAAjB;yBAAnB,mBAAA,CAiBM,KAjBN,EAiBM;AAjBiC,MAAA,GAAG,EAAE,OAAO,CAAC,EAiB9C;AAjBkD,MAAA,KAAK,EAAC;AAiBxD,KAjBN,E,CACE,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,mBAAA,CAA8C,GAA9C,EAAA,UAAA,EAA8C,gBAAA,CAAnB,OAAO,CAAC,IAAW,CAA9C,EAAuC;AAAA;AAAvC,KACI,CAHN,C,EAIA,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,mBAAA,CAA4C,GAA5C,EAAA,UAAA,EAA4C,gBAAA,CAAjB,OAAO,CAAC,EAAS,CAA5C,EAAqC;AAAA;AAArC,KACI,CAHN,C,EAKA,mBAAA,CAEM,KAFN,EAAA,WAAA,EAEM,CADJ,mBAAA,CAAiE,GAAjE,EAAA,WAAA,EAAiE,C,kCAA7C,OAAO,CAAC,U,IAAa,M,EAAI;AAAA;KAAoB,EAApB,WAAoB,CAAjE,CACI,CAFN,C,EAGA,W,EACA,mBAAA,CAES,QAFT,EAES;AAFA,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,aAAA,CAAc,OAAO,CAAC,EAAtB,CAAF;AAAA,OAEL;AAFkC,MAAA,KAAK,EAAC;AAExC,KAFT,EAA0D,UAA1D,EAEA;AAAA;AAFA,MAEA,WAFA,C,CAdF,C;GAiBM,CAjBN,E;;AAAA,GAkBI,EA3BN,CA4BI,CA7BN,C","sourcesContent":["<template>\r\n  <div class=\"bookings\">\r\n    <div class=\"bookingsContainer\">\r\n      <h1 class=\"bookingsHeader\">Your Bookings</h1>\r\n      <p\r\n        v-if=\"this.bookings.length == 0\"\r\n        @click=\"gotoRiadsPage\"\r\n        class=\"noBookingsYet\"\r\n      >\r\n        You have no bookings yet, Make one ? Explore\r\n      </p>\r\n      <div v-for=\"booking in this.bookings\" :key=\"booking.id\" class=\"booking\">\r\n        <div class=\"bookingDetail\">\r\n          <p class=\"bookingTexe\">From:</p>\r\n          <p class=\"bookingValue\">{{ booking.from }}</p>\r\n        </div>\r\n        <div class=\"bookingDetail\">\r\n          <p class=\"bookingTexe\">To:</p>\r\n          <p class=\"bookingValue\">{{ booking.to }}</p>\r\n        </div>\r\n\r\n        <div class=\"totalPrice\">\r\n          <p class=\"price\">{{ booking.totalPrice }} DH <sub>Total</sub></p>\r\n        </div>\r\n        <hr class=\"rotatedLine\" />\r\n        <button @click=\"deleteBooking(booking.id)\" class=\"cancel\">\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Bookings\",\r\n  data() {\r\n    return {\r\n      bookings: {\r\n        from: null,\r\n        to: null,\r\n        totalPrice: null,\r\n      },\r\n      hasReview: false,\r\n      linkedReviewID: null,\r\n    };\r\n  },\r\n  methods: {\r\n    gotoRiadsPage() {\r\n      this.$router.push(\"/Explore\");\r\n    },\r\n\r\n    deleteBooking(id) {\r\n      axios\r\n        .get(`http://localhost:8000/api/booking/${id}/review`)\r\n        .then((response) => {\r\n          this.hasReview = true;\r\n          this.linkedReviewID = response.data.id;\r\n          console.log(this.hasReview);\r\n          console.log(this.linkedReviewID);\r\n        });\r\n\r\n      if (this.hasReview) {\r\n        axios\r\n          .delete(`http://localhost:8000/api/reviews/${this.linkedReviewID}`)\r\n          .then((response) => {\r\n            axios\r\n              .delete(`http://localhost:8000/api/bookings/${id}`)\r\n              .then((response) => {\r\n                console.log(response);\r\n                this.$router.push(\"/\");\r\n              });\r\n          });\r\n      } else {\r\n        axios\r\n          .delete(`http://localhost:8000/api/bookings/${id}`)\r\n          .then((response) => {\r\n            console.log(id);\r\n            console.log(response);\r\n            this.$router.push(\"/\");\r\n          });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    axios\r\n      .get(`http://localhost:8000/api/user/${this.$route.params.id}/bookings`)\r\n      .then((response) => {\r\n        this.bookings = response.data;\r\n        this.bookings.forEach((booking) => {\r\n          axios\r\n            .get(`http://localhost:8000/api/booking/${booking.id}/totalprice`)\r\n            .then((response) => {\r\n              booking.totalPrice = response.data;\r\n            });\r\n        });\r\n        console.log(this.bookings);\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bookings {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.bookingsHeader {\r\n  font-family: luxia;\r\n  font-weight: normal;\r\n  font-size: 30px;\r\n  color: #996515;\r\n  letter-spacing: 2px;\r\n}\r\n\r\n.noBookingsYet {\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n  color: gray;\r\n  margin-top: 40px;\r\n  cursor: pointer;\r\n}\r\n\r\n.bookingsContainer {\r\n  padding: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 90%;\r\n  background-color: rgb(32, 32, 32);\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0);\r\n}\r\n\r\n.booking {\r\n  padding: 30px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 90%;\r\n  background-color: rgb(32, 32, 32);\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0);\r\n  margin: 30px 0;\r\n}\r\n.bookingDetail {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.bookingTexe {\r\n  color: #996515;\r\n  font-family: luxia;\r\n  font-size: 20px;\r\n}\r\n.bookingValue {\r\n  color: #996515;\r\n  font-family: luxia;\r\n  font-size: 27px;\r\n}\r\n.totalPrice {\r\n  width: 35%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.price {\r\n  color: #996515;\r\n  font-family: luxia;\r\n  font-size: 32px;\r\n}\r\n.rotatedLine {\r\n  border: 1px solid #996515;\r\n  transform: rotate(90deg);\r\n  width: 50px;\r\n}\r\n\r\n.cancel {\r\n  padding: 10px;\r\n  font-family: luxia;\r\n  color: #996515;\r\n  background: rgb(29, 29, 29);\r\n  border: 1px solid #996515;\r\n  cursor: pointer;\r\n}\r\n</style>"],"sourceRoot":""}]}